<?xml version="1.0" standalone="no"?>

<jumpstart>

  <description>

  UCB's Ganglia Monitor system for client nodes in the
  cluster. We make the gmonds "deaf" for compute nodes
  so the memory footprint is O(1) on compute nodes.

  </description>

  <changelog>
  $Log: sol_ganglia-client.xml,v $
  Revision 1.7  2007/11/09 22:12:55  anoop
  Bug fix

  Revision 1.6  2007/11/09 21:38:43  anoop
  Bug fix

  Revision 1.5  2007/11/09 00:03:07  anoop
  Moved solaris graph out of default graph, so that it won't
  interfere with default roll graph.

  Cleaned up node file for solaris. Now uses the var tag instead of the
  environmental variable

  Revision 1.4  2007/10/31 00:09:55  anoop
  Uses the service tag rather than writing the xml file by hand

  Revision 1.3  2007/10/30 05:14:26  anoop
  *** empty log message ***

  Revision 1.2  2007/10/30 01:34:15  anoop
  Testing code only. This will get tossed, and "service" tags will
  be used later

  Revision 1.1  2007/10/28 00:36:06  anoop
  Added Solaris support for the Ganglia Roll


  </changelog>

<package>ROCKSganglia-monitor-core</package>

<post>
	
mkdir -p /var/lock

<file name="/etc/gmond.conf">
<eval shell="sh">
/opt/rocks/bin/dbreport gmond $Node_Hostname
</eval>
</file>

cp /opt/ganglia/share/ganglia/gmond.xml /var/svc/manifest/network/gmond.xml
<service name='network/gmond' enabled='yes'/>
</post>

</jumpstart> 
